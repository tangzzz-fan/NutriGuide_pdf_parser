2025-06-05 12:39:48 | INFO     | __main__:test_basic_functionality:40 | Test log message
2025-06-05 12:43:36 | INFO     | __main__:test_basic_functionality:40 | Test log message
2025-06-05 16:43:05 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:43:05 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:43:12 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:43:12 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:43:12 | INFO     | main:lifespan:43 | Starting PDF Parser Service...
2025-06-05 16:43:12 | INFO     | services.database:connect:46 | MongoDB 连接成功: nutriguide_pdf
2025-06-05 16:43:12 | WARNING  | services.database:_create_indexes:94 | 索引创建失败: Command createIndexes requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command createIndexes requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 16:43:12 | INFO     | main:lifespan:46 | Database connected successfully
2025-06-05 16:43:18 | ERROR    | main:general_exception_handler:356 | Unhandled exception: 'Settings' object has no attribute 'get'
2025-06-05 16:43:30 | ERROR    | main:general_exception_handler:356 | Unhandled exception: 'Settings' object has no attribute 'get'
2025-06-05 16:43:36 | INFO     | main:lifespan:54 | Shutting down PDF Parser Service...
2025-06-05 16:43:36 | INFO     | services.database:disconnect:59 | MongoDB 连接已关闭
2025-06-05 16:43:36 | INFO     | main:lifespan:57 | Database disconnected successfully
2025-06-05 16:43:41 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:43:41 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:43:41 | INFO     | main:lifespan:43 | Starting PDF Parser Service...
2025-06-05 16:43:41 | INFO     | services.database:connect:46 | MongoDB 连接成功: nutriguide_pdf
2025-06-05 16:43:41 | WARNING  | services.database:_create_indexes:94 | 索引创建失败: Command createIndexes requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command createIndexes requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 16:43:41 | INFO     | main:lifespan:46 | Database connected successfully
2025-06-05 16:43:48 | ERROR    | main:general_exception_handler:356 | Unhandled exception: 'Settings' object has no attribute 'get'
2025-06-05 16:43:55 | INFO     | main:lifespan:54 | Shutting down PDF Parser Service...
2025-06-05 16:43:55 | INFO     | services.database:disconnect:59 | MongoDB 连接已关闭
2025-06-05 16:43:55 | INFO     | main:lifespan:57 | Database disconnected successfully
2025-06-05 16:45:21 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:45:21 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:45:21 | INFO     | main:lifespan:43 | Starting PDF Parser Service...
2025-06-05 16:45:21 | INFO     | services.database:connect:46 | MongoDB 连接成功: nutriguide_pdf
2025-06-05 16:45:21 | WARNING  | services.database:_create_indexes:94 | 索引创建失败: Command createIndexes requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command createIndexes requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 16:45:21 | INFO     | main:lifespan:46 | Database connected successfully
2025-06-05 16:45:48 | INFO     | celery_app:worker_ready_handler:54 | Celery worker正在启动...
2025-06-05 16:45:48 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:45:48 | INFO     | celery_app:worker_ready_handler:59 | PDF解析服务初始化完成
2025-06-05 16:45:48 | INFO     | celery_app:worker_ready_handler:65 | 数据库服务初始化完成
2025-06-05 16:45:48 | INFO     | celery_app:worker_ready_handler:67 | Celery worker启动成功
2025-06-05 16:46:01 | INFO     | celery_app:worker_shutting_down_handler:79 | Celery worker正在关闭...
2025-06-05 16:46:01 | INFO     | celery_app:worker_shutting_down_handler:89 | Celery worker关闭完成
2025-06-05 16:46:01 | INFO     | main:lifespan:54 | Shutting down PDF Parser Service...
2025-06-05 16:46:01 | INFO     | services.database:disconnect:59 | MongoDB 连接已关闭
2025-06-05 16:46:01 | INFO     | main:lifespan:57 | Database disconnected successfully
2025-06-05 16:46:07 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:46:07 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:46:07 | INFO     | main:lifespan:43 | Starting PDF Parser Service...
2025-06-05 16:46:07 | INFO     | services.database:connect:46 | MongoDB 连接成功: nutriguide_pdf
2025-06-05 16:46:07 | WARNING  | services.database:_create_indexes:94 | 索引创建失败: Command createIndexes requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command createIndexes requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 16:46:07 | INFO     | main:lifespan:46 | Database connected successfully
2025-06-05 16:46:08 | INFO     | celery_app:worker_ready_handler:54 | Celery worker正在启动...
2025-06-05 16:46:08 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:46:08 | INFO     | celery_app:worker_ready_handler:59 | PDF解析服务初始化完成
2025-06-05 16:46:08 | INFO     | celery_app:worker_ready_handler:65 | 数据库服务初始化完成
2025-06-05 16:46:08 | INFO     | celery_app:worker_ready_handler:67 | Celery worker启动成功
2025-06-05 16:46:21 | ERROR    | services.database:get_parsing_stats:406 | 获取统计信息失败: 'NoneType' object is not subscriptable
2025-06-05 16:46:21 | ERROR    | api.admin:get_system_metrics:60 | 获取系统指标失败: 'NoneType' object is not subscriptable
2025-06-05 16:46:25 | ERROR    | services.database:get_parsing_stats:406 | 获取统计信息失败: 'NoneType' object is not subscriptable
2025-06-05 16:46:25 | ERROR    | api.admin:get_system_metrics:60 | 获取系统指标失败: 'NoneType' object is not subscriptable
2025-06-05 16:46:38 | ERROR    | services.database:get_parsing_stats:406 | 获取统计信息失败: 'NoneType' object is not subscriptable
2025-06-05 16:46:38 | ERROR    | api.admin:get_system_metrics:60 | 获取系统指标失败: 'NoneType' object is not subscriptable
2025-06-05 16:47:46 | ERROR    | services.database:get_parsing_stats:406 | 获取统计信息失败: 'NoneType' object is not subscriptable
2025-06-05 16:47:46 | ERROR    | api.admin:get_system_metrics:60 | 获取系统指标失败: 'NoneType' object is not subscriptable
2025-06-05 16:47:58 | INFO     | main:lifespan:54 | Shutting down PDF Parser Service...
2025-06-05 16:47:58 | INFO     | services.database:disconnect:59 | MongoDB 连接已关闭
2025-06-05 16:47:58 | INFO     | main:lifespan:57 | Database disconnected successfully
2025-06-05 16:47:59 | INFO     | celery_app:worker_shutting_down_handler:79 | Celery worker正在关闭...
2025-06-05 16:47:59 | INFO     | celery_app:worker_shutting_down_handler:89 | Celery worker关闭完成
2025-06-05 16:48:16 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:48:16 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:48:16 | INFO     | main:lifespan:43 | Starting PDF Parser Service...
2025-06-05 16:48:16 | INFO     | services.database:connect:46 | MongoDB 连接成功: nutriguide_pdf
2025-06-05 16:48:16 | WARNING  | services.database:_create_indexes:94 | 索引创建失败: Command createIndexes requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command createIndexes requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 16:48:16 | INFO     | main:lifespan:46 | Database connected successfully
2025-06-05 16:48:18 | INFO     | celery_app:worker_ready_handler:54 | Celery worker正在启动...
2025-06-05 16:48:18 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:48:18 | INFO     | celery_app:worker_ready_handler:59 | PDF解析服务初始化完成
2025-06-05 16:48:18 | INFO     | celery_app:worker_ready_handler:65 | 数据库服务初始化完成
2025-06-05 16:48:18 | INFO     | celery_app:worker_ready_handler:67 | Celery worker启动成功
2025-06-05 16:48:23 | ERROR    | services.database:get_parsing_stats:406 | 获取统计信息失败: 'NoneType' object is not subscriptable
2025-06-05 16:48:23 | ERROR    | api.admin:get_system_metrics:60 | 获取系统指标失败: 'NoneType' object is not subscriptable
2025-06-05 16:48:48 | ERROR    | services.database:get_parsing_stats:406 | 获取统计信息失败: 'NoneType' object is not subscriptable
2025-06-05 16:48:48 | ERROR    | api.admin:get_system_metrics:60 | 获取系统指标失败: 'NoneType' object is not subscriptable
2025-06-05 16:57:30 | INFO     | main:lifespan:54 | Shutting down PDF Parser Service...
2025-06-05 16:57:30 | INFO     | services.database:disconnect:59 | MongoDB 连接已关闭
2025-06-05 16:57:30 | INFO     | main:lifespan:57 | Database disconnected successfully
2025-06-05 16:57:30 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:57:30 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:58:33 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:58:33 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:58:41 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:58:41 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:58:57 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:58:57 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:59:30 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:59:30 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:59:30 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 16:59:30 | INFO     | main:lifespan:45 | Starting PDF Parser Service...
2025-06-05 16:59:30 | INFO     | services.database:connect:46 | MongoDB 连接成功: nutriguide_pdf
2025-06-05 16:59:30 | WARNING  | services.database:_create_indexes:94 | 索引创建失败: Command createIndexes requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command createIndexes requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 16:59:30 | INFO     | main:lifespan:48 | Database connected successfully
2025-06-05 16:59:30 | INFO     | main:lifespan:56 | Shutting down PDF Parser Service...
2025-06-05 16:59:30 | INFO     | services.database:disconnect:59 | MongoDB 连接已关闭
2025-06-05 16:59:30 | INFO     | main:lifespan:59 | Database disconnected successfully
2025-06-05 17:00:52 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 17:00:52 | INFO     | services.pdf_parser:__init__:19 | Using mock PDF parser service
2025-06-05 17:00:52 | INFO     | main:lifespan:45 | Starting PDF Parser Service...
2025-06-05 17:00:52 | INFO     | services.database:connect:46 | MongoDB 连接成功: nutriguide_pdf
2025-06-05 17:00:52 | WARNING  | services.database:_create_indexes:94 | 索引创建失败: Command createIndexes requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command createIndexes requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:00:52 | INFO     | main:lifespan:48 | Database connected successfully
2025-06-05 17:01:13 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:01:13 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:01:18 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:01:18 | ERROR    | main:get_parsing_history:293 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:02:15 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:02:15 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:02:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:02:30 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:02:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:02:30 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:02:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:02:30 | ERROR    | main:get_parsing_history:293 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:02:40 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:02:40 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:02:40 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:02:40 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:02:50 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:02:50 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:02:50 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:02:50 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:00 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:03:00 | ERROR    | main:get_parsing_history:293 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:03:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:00 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:10 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:10 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:10 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:10 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:20 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:20 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:30 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:03:30 | ERROR    | main:get_parsing_history:293 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:03:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:30 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:40 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:40 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:40 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:40 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:50 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:50 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:50 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:03:50 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:00 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:04:00 | ERROR    | main:get_parsing_history:293 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:04:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:00 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:10 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:10 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:10 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:10 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:20 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:20 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:30 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:04:30 | ERROR    | main:get_parsing_history:293 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:04:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:30 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:40 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:40 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:40 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:40 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:50 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:50 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:50 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:04:50 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:05:00 | ERROR    | main:get_parsing_history:293 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:05:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:00 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:00 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:10 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:10 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:10 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:10 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:20 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:20 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:05:30 | ERROR    | main:get_parsing_history:293 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:05:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:30 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:30 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:40 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:40 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:40 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:40 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:50 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:50 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:50 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:05:50 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:06:00 | ERROR    | main:get_parsing_history:293 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:06:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:00 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:00 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:10 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:10 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:10 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:10 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:20 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:20 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:06:30 | ERROR    | main:get_parsing_history:293 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:06:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:30 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:30 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:40 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:40 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:40 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:40 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:50 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:50 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:50 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:06:50 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:07:00 | ERROR    | main:get_parsing_history:293 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:07:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:00 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:00 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:10 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:10 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:10 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:10 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:20 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:20 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:07:30 | ERROR    | main:get_parsing_history:293 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 17:07:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:30 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:30 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:40 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:40 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:40 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:40 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:50 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:50 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:50 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:50 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 17:07:56 | INFO     | main:lifespan:56 | Shutting down PDF Parser Service...
2025-06-05 17:07:56 | INFO     | services.database:disconnect:59 | MongoDB 连接已关闭
2025-06-05 17:07:56 | INFO     | main:lifespan:59 | Database disconnected successfully
2025-06-05 17:57:06 | INFO     | celery_app:worker_shutting_down_handler:79 | Celery worker正在关闭...
2025-06-05 17:57:06 | INFO     | celery_app:worker_shutting_down_handler:89 | Celery worker关闭完成
2025-06-05 18:07:32 | INFO     | services.pdf_parser:__init__:36 | PDF Parser Service initialized with real parsing capabilities
2025-06-05 18:07:32 | INFO     | services.pdf_parser:__init__:36 | PDF Parser Service initialized with real parsing capabilities
2025-06-05 18:07:32 | INFO     | main:lifespan:47 | Starting PDF Parser Service...
2025-06-05 18:07:32 | INFO     | services.database:connect:46 | MongoDB 连接成功: nutriguide_pdf
2025-06-05 18:07:32 | WARNING  | services.database:_create_indexes:94 | 索引创建失败: Command createIndexes requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command createIndexes requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:07:32 | INFO     | main:lifespan:50 | Database connected successfully
2025-06-05 18:07:32 | INFO     | services.task_manager:__init__:66 | Task Manager initialized
2025-06-05 18:07:32 | INFO     | main:lifespan:54 | Task manager initialized successfully
2025-06-05 18:07:44 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /health - 127.0.0.1
2025-06-05 18:07:44 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /health - 200 - 0.002s - 127.0.0.1
2025-06-05 18:07:50 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /docs - 127.0.0.1
2025-06-05 18:07:50 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /docs - 200 - 0.000s - 127.0.0.1
2025-06-05 18:07:55 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET / - 127.0.0.1
2025-06-05 18:07:55 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET / - 200 - 0.005s - 127.0.0.1
2025-06-05 18:07:55 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /static/css/app.css - 127.0.0.1
2025-06-05 18:07:55 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /static/js/app.js - 127.0.0.1
2025-06-05 18:07:55 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /static/css/app.css - 200 - 0.002s - 127.0.0.1
2025-06-05 18:07:55 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /static/js/app.js - 200 - 0.003s - 127.0.0.1
2025-06-05 18:07:55 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /parse/history - 127.0.0.1
2025-06-05 18:07:55 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:07:55 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:07:55 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:07:55 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.001s - 127.0.0.1
2025-06-05 18:07:55 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:07:55 | ERROR    | main:get_parsing_history:373 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:07:55 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:07:55 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:07:55 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:07:55 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /parse/history - 500 - 0.005s - 127.0.0.1
2025-06-05 18:07:55 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.002s - 127.0.0.1
2025-06-05 18:08:05 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:08:05 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:05 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:05 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.000s - 127.0.0.1
2025-06-05 18:08:05 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:08:05 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:05 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:05 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
2025-06-05 18:08:15 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:08:15 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:15 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:15 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.001s - 127.0.0.1
2025-06-05 18:08:15 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:08:15 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:15 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:15 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.000s - 127.0.0.1
2025-06-05 18:08:25 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /parse/history - 127.0.0.1
2025-06-05 18:08:25 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:08:25 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:25 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:25 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:08:25 | ERROR    | main:get_parsing_history:373 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:08:25 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.001s - 127.0.0.1
2025-06-05 18:08:25 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:08:25 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /parse/history - 500 - 0.002s - 127.0.0.1
2025-06-05 18:08:25 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:25 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:25 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.000s - 127.0.0.1
2025-06-05 18:08:35 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:08:35 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:35 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:35 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.001s - 127.0.0.1
2025-06-05 18:08:35 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:08:35 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:35 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:35 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
2025-06-05 18:08:45 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:08:45 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:45 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:45 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.000s - 127.0.0.1
2025-06-05 18:08:45 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:08:45 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:45 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:08:45 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
2025-06-05 18:08:53 | INFO     | main:lifespan:63 | Shutting down PDF Parser Service...
2025-06-05 18:08:53 | INFO     | services.database:disconnect:59 | MongoDB 连接已关闭
2025-06-05 18:08:53 | INFO     | main:lifespan:66 | Database disconnected successfully
2025-06-05 18:09:51 | INFO     | services.pdf_parser:__init__:36 | PDF Parser Service initialized with real parsing capabilities
2025-06-05 18:09:51 | INFO     | services.pdf_parser:__init__:36 | PDF Parser Service initialized with real parsing capabilities
2025-06-05 18:09:51 | INFO     | main:lifespan:47 | Starting PDF Parser Service...
2025-06-05 18:09:51 | INFO     | services.database:connect:46 | MongoDB 连接成功: nutriguide_pdf
2025-06-05 18:09:51 | WARNING  | services.database:_create_indexes:94 | 索引创建失败: Command createIndexes requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command createIndexes requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:09:51 | INFO     | main:lifespan:50 | Database connected successfully
2025-06-05 18:09:51 | INFO     | services.task_manager:__init__:66 | Task Manager initialized
2025-06-05 18:09:51 | INFO     | main:lifespan:54 | Task manager initialized successfully
2025-06-05 18:09:55 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /parse/history - 127.0.0.1
2025-06-05 18:09:55 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:09:55 | ERROR    | main:get_parsing_history:373 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:09:55 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /parse/history - 500 - 0.004s - 127.0.0.1
2025-06-05 18:09:56 | INFO     | celery_app:worker_ready_handler:54 | Celery worker正在启动...
2025-06-05 18:09:56 | INFO     | services.pdf_parser:__init__:36 | PDF Parser Service initialized with real parsing capabilities
2025-06-05 18:09:56 | INFO     | celery_app:worker_ready_handler:59 | PDF解析服务初始化完成
2025-06-05 18:09:56 | INFO     | celery_app:worker_ready_handler:65 | 数据库服务初始化完成
2025-06-05 18:09:56 | INFO     | celery_app:worker_ready_handler:67 | Celery worker启动成功
2025-06-05 18:09:56 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /docs - 127.0.0.1
2025-06-05 18:09:56 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /docs - 200 - 0.002s - 127.0.0.1
2025-06-05 18:09:56 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:09:56 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:09:56 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:09:56 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.001s - 127.0.0.1
2025-06-05 18:09:56 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:09:56 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:09:56 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:09:56 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
2025-06-05 18:10:02 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET / - 127.0.0.1
2025-06-05 18:10:02 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET / - 200 - 0.002s - 127.0.0.1
2025-06-05 18:10:02 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /parse/history - 127.0.0.1
2025-06-05 18:10:02 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:10:02 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:10:02 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:02 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:02 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:02 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:02 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:10:02 | ERROR    | main:get_parsing_history:373 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:10:02 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.003s - 127.0.0.1
2025-06-05 18:10:02 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.002s - 127.0.0.1
2025-06-05 18:10:02 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /parse/history - 500 - 0.005s - 127.0.0.1
2025-06-05 18:10:12 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:10:12 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:12 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:12 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.002s - 127.0.0.1
2025-06-05 18:10:12 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:10:12 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:12 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:12 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
2025-06-05 18:10:22 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:10:22 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:22 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:22 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.000s - 127.0.0.1
2025-06-05 18:10:22 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:10:22 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:22 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:22 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.000s - 127.0.0.1
2025-06-05 18:10:32 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /parse/history - 127.0.0.1
2025-06-05 18:10:32 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:10:32 | ERROR    | main:get_parsing_history:373 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:10:32 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /parse/history - 500 - 0.003s - 127.0.0.1
2025-06-05 18:10:32 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:10:32 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:32 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:32 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.001s - 127.0.0.1
2025-06-05 18:10:32 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:10:32 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:32 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:32 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
2025-06-05 18:10:42 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:10:42 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:42 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:42 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.000s - 127.0.0.1
2025-06-05 18:10:42 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:10:42 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:42 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:42 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.000s - 127.0.0.1
2025-06-05 18:10:52 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:10:52 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:52 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:52 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.001s - 127.0.0.1
2025-06-05 18:10:52 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:10:52 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:52 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:10:52 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
2025-06-05 18:11:02 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /parse/history - 127.0.0.1
2025-06-05 18:11:02 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:11:02 | ERROR    | main:get_parsing_history:373 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:11:02 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /parse/history - 500 - 0.002s - 127.0.0.1
2025-06-05 18:11:02 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:11:02 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:11:02 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:11:02 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.000s - 127.0.0.1
2025-06-05 18:11:02 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:11:02 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:11:02 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:11:02 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.000s - 127.0.0.1
2025-06-05 18:11:16 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:11:16 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:11:16 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:11:16 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.001s - 127.0.0.1
2025-06-05 18:11:16 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:11:16 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:11:16 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:11:16 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
2025-06-05 18:11:30 | INFO     | celery_app:worker_shutting_down_handler:79 | Celery worker正在关闭...
2025-06-05 18:11:30 | INFO     | celery_app:worker_shutting_down_handler:89 | Celery worker关闭完成
2025-06-05 18:11:30 | INFO     | celery_app:worker_shutting_down_handler:79 | Celery worker正在关闭...
2025-06-05 18:11:30 | INFO     | celery_app:worker_shutting_down_handler:89 | Celery worker关闭完成
2025-06-05 18:11:30 | INFO     | main:lifespan:63 | Shutting down PDF Parser Service...
2025-06-05 18:11:30 | INFO     | services.database:disconnect:59 | MongoDB 连接已关闭
2025-06-05 18:11:30 | INFO     | main:lifespan:66 | Database disconnected successfully
2025-06-05 18:11:35 | INFO     | services.pdf_parser:__init__:36 | PDF Parser Service initialized with real parsing capabilities
2025-06-05 18:11:35 | INFO     | services.pdf_parser:__init__:36 | PDF Parser Service initialized with real parsing capabilities
2025-06-05 18:11:35 | INFO     | main:lifespan:47 | Starting PDF Parser Service...
2025-06-05 18:11:35 | INFO     | services.database:connect:46 | MongoDB 连接成功: nutriguide_pdf
2025-06-05 18:11:35 | WARNING  | services.database:_create_indexes:94 | 索引创建失败: Command createIndexes requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command createIndexes requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:11:35 | INFO     | main:lifespan:50 | Database connected successfully
2025-06-05 18:11:35 | INFO     | services.task_manager:__init__:66 | Task Manager initialized
2025-06-05 18:11:35 | INFO     | main:lifespan:54 | Task manager initialized successfully
2025-06-05 18:11:39 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /health - 127.0.0.1
2025-06-05 18:11:39 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /health - 200 - 0.002s - 127.0.0.1
2025-06-05 18:11:46 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /health - 127.0.0.1
2025-06-05 18:11:46 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /health - 200 - 0.001s - 127.0.0.1
2025-06-05 18:12:00 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:12:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:12:00 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:12:00 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.001s - 127.0.0.1
2025-06-05 18:12:00 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:12:00 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:12:00 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:12:00 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
2025-06-05 18:12:02 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /parse/history - 127.0.0.1
2025-06-05 18:12:02 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:12:02 | ERROR    | main:get_parsing_history:373 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:12:02 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /parse/history - 500 - 0.002s - 127.0.0.1
2025-06-05 18:12:32 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /parse/history - 127.0.0.1
2025-06-05 18:12:32 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:12:32 | ERROR    | main:get_parsing_history:373 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:12:32 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /parse/history - 500 - 0.002s - 127.0.0.1
2025-06-05 18:13:02 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /parse/history - 127.0.0.1
2025-06-05 18:13:02 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:13:02 | ERROR    | main:get_parsing_history:373 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:13:02 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /parse/history - 500 - 0.005s - 127.0.0.1
2025-06-05 18:13:06 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:13:06 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:13:06 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:13:06 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.002s - 127.0.0.1
2025-06-05 18:13:06 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:13:06 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:13:06 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:13:06 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
2025-06-05 18:13:58 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /docs - 127.0.0.1
2025-06-05 18:13:58 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /docs - 200 - 0.001s - 127.0.0.1
2025-06-05 18:14:06 | INFO     | main:lifespan:63 | Shutting down PDF Parser Service...
2025-06-05 18:14:06 | INFO     | services.database:disconnect:59 | MongoDB 连接已关闭
2025-06-05 18:14:06 | INFO     | main:lifespan:66 | Database disconnected successfully
2025-06-05 18:14:11 | INFO     | services.pdf_parser:__init__:36 | PDF Parser Service initialized with real parsing capabilities
2025-06-05 18:14:11 | INFO     | services.pdf_parser:__init__:36 | PDF Parser Service initialized with real parsing capabilities
2025-06-05 18:14:11 | INFO     | main:lifespan:47 | Starting PDF Parser Service...
2025-06-05 18:14:11 | INFO     | services.database:connect:46 | MongoDB 连接成功: nutriguide_pdf
2025-06-05 18:14:11 | WARNING  | services.database:_create_indexes:94 | 索引创建失败: Command createIndexes requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command createIndexes requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:14:11 | INFO     | main:lifespan:50 | Database connected successfully
2025-06-05 18:14:11 | INFO     | services.task_manager:__init__:66 | Task Manager initialized
2025-06-05 18:14:11 | INFO     | main:lifespan:54 | Task manager initialized successfully
2025-06-05 18:14:16 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /health - 127.0.0.1
2025-06-05 18:14:16 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /health - 200 - 0.002s - 127.0.0.1
2025-06-05 18:14:18 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /docs - 127.0.0.1
2025-06-05 18:14:18 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /docs - 200 - 0.000s - 127.0.0.1
2025-06-05 18:14:20 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:14:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:20 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:20 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.002s - 127.0.0.1
2025-06-05 18:14:20 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:14:20 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /parse/history - 127.0.0.1
2025-06-05 18:14:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:20 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:20 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.003s - 127.0.0.1
2025-06-05 18:14:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:14:20 | ERROR    | main:get_parsing_history:373 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:14:20 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /parse/history - 500 - 0.005s - 127.0.0.1
2025-06-05 18:14:20 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET / - 127.0.0.1
2025-06-05 18:14:20 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET / - 200 - 0.003s - 127.0.0.1
2025-06-05 18:14:20 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /parse/history - 127.0.0.1
2025-06-05 18:14:20 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:14:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:20 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:20 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:14:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:20 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:14:20 | ERROR    | main:get_parsing_history:373 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:14:20 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.002s - 127.0.0.1
2025-06-05 18:14:20 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.002s - 127.0.0.1
2025-06-05 18:14:20 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /parse/history - 500 - 0.005s - 127.0.0.1
2025-06-05 18:14:30 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:14:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:30 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:30 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.002s - 127.0.0.1
2025-06-05 18:14:30 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:14:30 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:30 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:30 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
2025-06-05 18:14:37 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /health - 127.0.0.1
2025-06-05 18:14:37 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /health - 200 - 0.012s - 127.0.0.1
2025-06-05 18:14:40 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:14:40 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:40 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:40 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.001s - 127.0.0.1
2025-06-05 18:14:40 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:14:40 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:40 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:40 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
2025-06-05 18:14:50 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /parse/history - 127.0.0.1
2025-06-05 18:14:50 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:14:50 | ERROR    | main:get_parsing_history:373 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:14:50 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /parse/history - 500 - 0.002s - 127.0.0.1
2025-06-05 18:14:51 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:14:51 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:51 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:51 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.001s - 127.0.0.1
2025-06-05 18:14:51 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:14:51 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:51 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:14:51 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
2025-06-05 18:15:01 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:15:01 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:01 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:01 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.001s - 127.0.0.1
2025-06-05 18:15:01 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:15:01 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:01 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:01 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.000s - 127.0.0.1
2025-06-05 18:15:11 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:15:11 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:11 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:11 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.001s - 127.0.0.1
2025-06-05 18:15:11 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:15:11 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:11 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:11 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
2025-06-05 18:15:20 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /parse/history - 127.0.0.1
2025-06-05 18:15:20 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:15:20 | ERROR    | main:get_parsing_history:373 | Get history failed: Command aggregate requires authentication, full error: {'ok': 0.0, 'errmsg': 'Command aggregate requires authentication', 'code': 13, 'codeName': 'Unauthorized'}
2025-06-05 18:15:20 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /parse/history - 500 - 0.004s - 127.0.0.1
2025-06-05 18:15:21 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:15:21 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:21 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:21 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.001s - 127.0.0.1
2025-06-05 18:15:21 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:15:21 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:21 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:21 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
2025-06-05 18:15:31 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:15:31 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:31 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:31 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.002s - 127.0.0.1
2025-06-05 18:15:31 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:15:31 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:31 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:31 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
2025-06-05 18:15:41 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/real-time - 127.0.0.1
2025-06-05 18:15:41 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:41 | ERROR    | api.admin:get_real_time_stats:482 | 获取实时统计失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:41 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/real-time - 200 - 0.001s - 127.0.0.1
2025-06-05 18:15:41 | INFO     | utils.middleware:dispatch:355 | 请求开始: GET /admin/stats/recent-tasks - 127.0.0.1
2025-06-05 18:15:41 | ERROR    | services.database:get_parsing_history:244 | 获取解析历史失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:41 | ERROR    | api.admin:get_recent_tasks:514 | 获取最近任务失败: 'NoneType' object is not subscriptable
2025-06-05 18:15:41 | INFO     | utils.middleware:dispatch:364 | 请求完成: GET /admin/stats/recent-tasks - 200 - 0.001s - 127.0.0.1
